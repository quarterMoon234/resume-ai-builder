# AI 기반 이력서 생성 & 컨설팅 웹서비스 (v0.9.0)

사용자 프로필을 입력하면 AI가 자동으로 **이력서**와 **컨설팅 리포트**를 동시에 생성하는 올인원 웹서비스입니다.
드래그 앤 드롭 에디터로 이력서를 자유롭게 편집하면서, AI 컨설턴트의 조언을 확인할 수 있습니다.

**최신 업데이트 (v0.9.0 - 2025-12-01)**:
- **PDF 다운로드 corruption 해결**: Vite proxy 우회로 binary 데이터 정상 처리
- **공공기관 채용 API 통합**: 실시간 공공기관 채용 공고 표시
- **로딩 페이지 개선**: 실제 API 데이터로 채용공고 캐러셀 구현

## 기술 스택

- **Frontend**: React 18, Vite, Tailwind CSS, React Router DOM, Axios, React DnD
- **Backend**: Node.js(ESM) + Express
- **Database**: MongoDB + Mongoose
- **AI**: OpenAI GPT API
- **PDF**: Puppeteer (이력서 PDF 변환)

## 프로젝트 구조

```
claud-project/
├── client/                   # 프론트엔드 (React + Vite)
│   └── src/
│       ├── pages/
│       │   ├── ProfilePage.jsx           # 프로필 입력 & 관리
│       │   ├── LoadingJobsPage.jsx       # AI 생성 로딩 페이지 (실시간 채용공고)
│       │   ├── ResumeEditorPage.jsx      # 드래그 앤 드롭 에디터 (3단 레이아웃)
│       │   └── ResumeHistoryPage.jsx     # 이력서 히스토리 목록
│       ├── components/
│       │   ├── Layout.jsx                # 공통 레이아웃
│       │   ├── ConsultingPanel.jsx       # 컨설팅 패널 (사이드바)
│       │   ├── EditorToolbar.jsx         # 에디터 툴바
│       │   └── DraggableElement.jsx      # 드래그 가능한 요소
│       └── templates/                    # 이력서 템플릿 정의
├── server/                   # 백엔드 (Express)
│   ├── config/               # db.js (MongoDB 연결)
│   ├── routes/               # profile, generate, resume, pdf, template, jobs
│   ├── models/               # Profile.js, Resume.js
│   ├── templates/            # 템플릿 시스템
│   └── server.js
├── .env.example
├── AGENTS.md                 # 프로젝트 현황 문서
└── README.md
```

## 설치 및 실행

### 1) 환경 변수
루트에 `.env`를 생성하고 아래 값을 채웁니다.
```
OPENAI_API_KEY=your_actual_api_key
MONGODB_URI=mongodb://localhost:27017/resume-generator
PORT=5001
PUBLIC_JOBS_SERVICE_KEY=your_public_jobs_api_key
```

### 2) 서버
```bash
cd server
npm install
npm run dev
```
기본 포트: http://localhost:5001
MongoDB 연결, 프로필 저장/조회 API, AI 컨설팅 리포트 생성 API, 이력서 히스토리 API 구현 완료

### 3) 클라이언트
```bash
cd client
npm install
npm run dev
```
기본 포트: http://localhost:3000 (Vite, /api 프록시 → http://localhost:5001)

## 현재 상태

### ✅ 완료 (v0.9.0 - PDF 해결 및 채용 API 통합)
- **프로젝트 기본 구조 설정**
- **프로필 입력 폼 UI 구현** (8개 섹션: 인적사항, 구직방향, 학력, 경력, 프로젝트, 스킬, 자격증/수상, 자기소개)
- **프로필 CRUD API** (저장/조회/목록/삭제)
- **MongoDB 연결 및 Profile, Resume 모델 구현**
- **OpenAI GPT-4o-mini API 연동**
- **AI 기반 컨설팅 리포트 생성** (6개 섹션 구조화)
- **AI 템플릿 추천 시스템** (프로필 기반 최적 템플릿 선택)
- **드래그 앤 드롭 이력서 에디터** (요소 이동, 크기 조절, 내용 편집)
- **3단 레이아웃 에디터** (툴바 + 캔버스 + 컨설팅 패널)
- **로딩 페이지** (실시간 채용공고 캐러셀, 진행률 표시)
- **통합 생성 플로우** (한 번의 클릭으로 디자인 이력서 + 컨설팅 리포트 생성)
- **이력서 히스토리 페이지** (생성된 리포트 목록 조회)
- **PDF 다운로드 기능** (Puppeteer 기반, corruption 해결)
- **공공기관 채용 API 통합** (실시간 데이터, 랜덤 노출)
- **API 최적화** (이력서 생성 API 호출 4번 → 2번으로 감소)
- **데이터베이스 최적화** (Resume 문서 생성 2개 → 1개로 통합)
- **라우팅 개선** (히스토리 → 에디터 직접 이동)
- **코드베이스 정리** (불필요한 페이지 삭제, 모델 필드 정리)

### 진행 예정
- 템플릿 추가 (현재 3개 → 10개 이상)
- 사용자 인증 (선택)
- 클라우드 배포 (Vercel + MongoDB Atlas)

## 주요 기능

### ✅ 프로필 관리
- [x] 8개 섹션 프로필 입력 폼 (인적사항, 구직방향, 학력, 경력, 프로젝트, 스킬, 자격증/수상, 자기소개)
- [x] 프로필 CRUD 기능 (저장, 조회, 목록, 삭제)
- [x] 저장된 프로필 불러오기 (드롭다운 선택)

### ✅ AI 이력서 생성
- [x] **한 번의 클릭으로 디자인 이력서 + 컨설팅 리포트 동시 생성**
- [x] **AI 템플릿 추천** (프로필 분석 기반 최적 템플릿 자동 선택)
- [x] **로딩 페이지** (채용공고 캐러셀, 3단계 진행률 표시)
- [x] **컨설팅 리포트** (6개 섹션: 개요, 강점/약점, 전략, 숨길 요소, 표현 예시, 1분 스피치)

### ✅ 드래그 앤 드롭 에디터
- [x] **3단 레이아웃** (왼쪽 툴바 + 중앙 캔버스 + 오른쪽 컨설팅 패널)
- [x] **요소 드래그 앤 드롭** (자유로운 위치 이동)
- [x] **요소 크기 조절** (리사이징)
- [x] **실시간 내용 편집** (더블클릭 편집)
- [x] **스타일 편집** (폰트, 색상, 크기, 정렬)
- [x] **컨설팅 패널** (접기/펼치기, 복사 기능)
- [x] **줌 기능** (50% ~ 150%)
- [x] **자동 저장**

### ✅ 이력서 관리
- [x] 이력서 히스토리 페이지 (목록 조회 및 통계)
- [x] **PDF 다운로드** (Puppeteer 기반, corruption 해결)

### ✅ 채용 공고 연동
- [x] **공공기관 채용 API 통합** (공공데이터포털)
- [x] **랜덤 채용 공고 표시** (Fisher-Yates 알고리즘)
- [x] **로딩 페이지 실시간 데이터** (50개 중 랜덤 10개)

### 진행 예정
- [ ] 템플릿 추가 (더 다양한 디자인)
- [ ] 사용자 인증 시스템
- [ ] 클라우드 배포

## 사용 흐름

### 통합 이력서 생성 (디자인 + 컨설팅)
1. **프로필 입력**
   - 프로필 페이지에서 8개 섹션 정보 입력
   - "프로필 저장하기" 클릭 → MongoDB에 저장

2. **AI 이력서 생성**
   - "AI 이력서 생성하기" 버튼 클릭
   - 로딩 페이지로 이동 (채용공고 캐러셀 표시)

3. **자동 생성 프로세스** (30~60초)
   - **1단계 (0-40%)**: AI가 프로필 분석하여 최적 템플릿 추천
   - **2단계 (40-100%)**: 디자인 이력서 + 컨설팅 리포트 통합 생성
   - 완료 후 자동으로 에디터 페이지로 이동

4. **드래그 앤 드롭 에디터**
   - **왼쪽 툴바**: 선택된 요소의 스타일 편집 (폰트, 색상, 정렬 등)
   - **중앙 캔버스**: 이력서 요소 드래그 앤 드롭, 크기 조절, 더블클릭 편집
   - **오른쪽 패널**: 컨설팅 리포트 실시간 확인
     - 섹션 1: 개요 (완료형 서술)
     - 섹션 2: 강점 & 약점 분석
     - 섹션 3: 프레젠테이션 전략
     - 섹션 4: 줄이거나 숨기는 요소
     - 섹션 5: 문장/표현 예시
     - 섹션 6: 1분 자기소개 스피치

5. **완성 및 다운로드**
   - 편집 완료 후 "저장" 버튼 클릭
   - "PDF 다운로드" 버튼으로 PDF 파일 생성

### 이력서 히스토리 조회
1. "이력서 히스토리" 페이지 이동
2. 생성된 모든 이력서 목록 확인
3. 통계 정보 확인 (총 이력서 수)
4. 원하는 이력서 클릭 → 에디터 페이지로 이동하여 편집 및 컨설팅 리포트 확인
